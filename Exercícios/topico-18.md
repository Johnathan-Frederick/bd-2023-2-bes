### Exercício 1

Veja o conteúdo do arquivo [empresa.sql](../data/empresa.sql):
- O conteúdo do arquivo possui comandos para a **definição** (criação das estruturas de dados) e **construção** (carga inicial) do **BD Empresa**.
- Há comandos DDL da SQL: CREATE TABLE e ALTER TABLE.
- Há comandos DML da SQL: INSERT.

Vamos executar o conteúdo do arquivo [empresa.sql](../data/empresa.sql), tal que possamos ter um banco de dados em nosso estudo sobre a SQL. Os passos abaixo se referem à ferramenta _SQLiteOnline_, entretanto você pode usar outra ferramenta de sua preferência.

1. Iniciar a _interface_ em https://sqliteonline.com/.
1. Selecionar um SGBD: **MariaDB** ou **PostgreSQL**.
1. Conectar-se ao SGBD selecionado (clique em **_click to connect_**).
1. Copiar o conteúdo do arquivo [empresa.sql](../data/empresa.sql) e colar na área de comandos SQL (parte central da _interface_).
1. Clicar em **&#x27A4;Run** (no _menu_ superior), para executar o conteúdo do arquivo.
1. Checar no menu à esquerda (no SGBD selecionado) se as relações (tabelas) do **BD Empresa** foram criadas.
1. Limpar a área de comandos SQL (parte central da _interface_).

Pronto, o **BD Empresa** foi criado e está pronto para ser manipulado (usado).<br>
**Qual o conteúdo de cada relação (tabela)?**
- Para cada relação do **BD Empresa**, execute o comando SQL<br>&nbsp;&nbsp;&nbsp;&nbsp;**SELECT * FROM _<nome_relação>_;**
  - substitua _<nome_relação>_ por:
    - FUNCIONARIO, DEPARTAMENTO, LOCALIZACAO_DEP, PROJETO, TRABALHA_EM, DEPENDENTE.

Este é o conteudo presente no arquivo empresa.sql:
~~~sql
CREATE TABLE FUNCIONARIO (
  Pnome VARCHAR(20) NOT NULL,
  Minicial CHAR(1) NOT NULL,
  Unome VARCHAR(20) NOT NULL,
  Cpf CHAR(11) NOT NULL,
  Datanasc DATE NOT NULL,
  Endereco VARCHAR(40) NOT NULL,
  Sexo CHAR(1) NOT NULL,
  Salario numeric(20,2) NOT NULL,
  Cpf_supervisor CHAR(11) NULL,
  Dnr INT NOT NULL,
  PRIMARY KEY (Cpf)
);

CREATE TABLE DEPARTAMENTO (
  Dnome VARCHAR(20) NOT NULL,
  Dnumero INT NOT NULL,
  Cpf_gerente CHAR(11) NOT NULL,
  Data_inicio_gerente DATE NOT NULL,
  PRIMARY KEY (Dnumero),
  UNIQUE(Dnome),
  FOREIGN KEY (Cpf_gerente)          -- Restrição de Integridade Referencial
    REFERENCES FUNCIONARIO(Cpf)
);

CREATE TABLE LOCALIZACAO_DEP (
  Dnumero INT NOT NULL,
  Dlocal VARCHAR(20) NOT NULL,
  PRIMARY KEY (Dnumero, Dlocal),
  FOREIGN KEY(Dnumero)              -- Restrição de Integridade Referencial
    REFERENCES DEPARTAMENTO(Dnumero)
);

CREATE TABLE PROJETO (
  Projnome VARCHAR(20) NOT NULL,
  Projnumero INT NOT NULL,
  Projlocal VARCHAR(20) NOT NULL,
  Dnum INT NOT NULL,
  PRIMARY KEY (Projnumero),
  UNIQUE (Projnome),
  FOREIGN KEY (Dnum)                      -- Restrição de Integridade Referencial
    REFERENCES DEPARTAMENTO (Dnumero)
);

CREATE TABLE TRABALHA_EM (
Fcpf CHAR(11) NOT NULL,
Pnr INT NOT NULL,
Horas numeric(3,1) NULL,
PRIMARY KEY(Fcpf,Pnr),
FOREIGN KEY (Fcpf)                      -- Restrição de Integridade Referencial
  REFERENCES FUNCIONARIO (Cpf),
FOREIGN KEY (Pnr)
  REFERENCES PROJETO(Projnumero)        -- Restrição de Integridade Referencial
);

CREATE TABLE DEPENDENTE (
Fcpf CHAR(11) NOT NULL,
Nome_dependente VARCHAR(20) NOT NULL,
Sexo CHAR(1) NOT NULL,
Datanasc DATE NOT NULL,
Parentesco VARCHAR(7) NOT NULL,
PRIMARY KEY(Fcpf, Nome_dependente),
FOREIGN KEY (Fcpf)                    -- Restrição de Integridade Referencial
  REFERENCES FUNCIONARIO (Cpf)
);

INSERT INTO FUNCIONARIO VALUES('Joao', 'B', 'Silva', '12345678966', '1965-01-09', 'Rua das Flores, 751, Sao Paulo, SP', 'M', '30000', '33344555587', '5');
INSERT INTO FUNCIONARIO VALUES('Fernando', 'T', 'Wong', '33344555587', '1955-12-08', 'Rua da Lapa, 34, Sao Paulo, SP', 'M', '40000', '88866555576', '5');
INSERT INTO FUNCIONARIO VALUES('Alice', 'J', 'Zelaya', '99988777767', '1968-01-19', 'Rua Souza Lima, 54, Curtiba, PR', 'F', '25000', '98765432168', '4');
INSERT INTO FUNCIONARIO VALUES('Jeniffer', 'S', 'Souza', '98765432168', '1941-06-20', 'Av. Arthur de Lima, 54, Santo André, SP', 'F', '43000', '88866555576', '4');
INSERT INTO FUNCIONARIO VALUES('Ronaldo', 'K', 'Lima', '66688444476', '1962-09-15', 'Rua Reboucas, 65, Piracicaba, SP', 'M', '38000', '33344555587', '5');
INSERT INTO FUNCIONARIO VALUES('Joice', 'A', 'Leite', '45345345376', '1972-07-31', 'Av. Lucas Obes, 74, Sao Paulo, SP', 'F', '25000', '33344555587', '5');
INSERT INTO FUNCIONARIO VALUES('Andre', 'V', 'Pereira', '98798798733', '1969-03-29', 'Rua Timbira, 35, Sao Paulo, SP', 'M', '25000', '98765432168', '4');
INSERT INTO FUNCIONARIO VALUES('Jorge', 'E', 'Brito', '88866555576', '1937-11-10', 'Rua do Horto, 35, Sao Paulo, SP', 'M', '55000', NULL, '1');

INSERT INTO DEPARTAMENTO VALUES('Pesquisa', '5', '33344555587', '1988-05-22');
INSERT INTO DEPARTAMENTO VALUES('Administracao', '4', '98765432168', '1995-01-01');
INSERT INTO DEPARTAMENTO VALUES('Matriz', '1', '88866555576', '1981-06-19');

ALTER TABLE FUNCIONARIO
ADD CONSTRAINT FUNCIONARIO_FK_TRABALHA_PARA
FOREIGN KEY(Dnr) REFERENCES DEPARTAMENTO(Dnumero);

ALTER TABLE FUNCIONARIO
ADD CONSTRAINT FUNCIONARIO_FK_SUPERVISAO
FOREIGN KEY (Cpf_supervisor) REFERENCES FUNCIONARIO(Cpf);

INSERT INTO LOCALIZACAO_DEP VALUES('1', 'Sao Paulo');
INSERT INTO LOCALIZACAO_DEP VALUES('4', 'Maua');
INSERT INTO LOCALIZACAO_DEP VALUES('5', 'Santo Andre');
INSERT INTO LOCALIZACAO_DEP VALUES('5', 'Itu');
INSERT INTO LOCALIZACAO_DEP VALUES('5', 'Sao Paulo');

INSERT INTO PROJETO VALUES('ProdutoX', '1', 'Santo Andre', '5');
INSERT INTO PROJETO VALUES('ProdutoY', '2', 'Itu', '5');
INSERT INTO PROJETO VALUES('ProdutoZ', '3', 'Sao Paulo', '5');
INSERT INTO PROJETO VALUES('Informatizacao', '10', ' Maua', '4');
INSERT INTO PROJETO VALUES('Reorganizacao', '20', 'Sao Paulo', '1');
INSERT INTO PROJETO VALUES('Novosbeneficios', '30', 'Maua', '4');

INSERT INTO DEPENDENTE VALUES('33344555587', 'Alicia', 'F', '1986-04-05', 'Filha');
INSERT INTO DEPENDENTE VALUES('33344555587', 'Tiago', 'M', '1983-10-25', 'Filho');
INSERT INTO DEPENDENTE VALUES('33344555587', 'Janaina', 'F', '1958-05-03', 'Esposa');
INSERT INTO DEPENDENTE VALUES('98765432168', 'Antonio', 'M', '1942-02-28', 'Marido');
INSERT INTO DEPENDENTE VALUES('12345678966', 'Michael', 'M', '1988-01-04', 'Filho');
INSERT INTO DEPENDENTE VALUES('12345678966', 'Alicia', 'F', '1988-12-30', 'Filha');
INSERT INTO DEPENDENTE VALUES('12345678966', 'Elizabeth', 'F', '1967-05-05', 'Esposa');

INSERT INTO TRABALHA_EM VALUES('12345678966', '1', '32.5');
INSERT INTO TRABALHA_EM VALUES('12345678966', '2', '7.5');
INSERT INTO TRABALHA_EM VALUES('66688444476', '3', '40.0');
INSERT INTO TRABALHA_EM VALUES('45345345376', '1', '20.0');
INSERT INTO TRABALHA_EM VALUES('45345345376', '2', '20.0');
INSERT INTO TRABALHA_EM VALUES('33344555587', '2', '10.0');
INSERT INTO TRABALHA_EM VALUES('33344555587', '3', '10.0');
INSERT INTO TRABALHA_EM VALUES('33344555587', '10', '10.0');
INSERT INTO TRABALHA_EM VALUES('33344555587', '20', '10.0');
INSERT INTO TRABALHA_EM VALUES('99988777767', '30', '30.0');
INSERT INTO TRABALHA_EM VALUES('99988777767', '10', '10.0');
INSERT INTO TRABALHA_EM VALUES('98798798733', '10', '35.0');
INSERT INTO TRABALHA_EM VALUES('98798798733', '30', '5.0');
INSERT INTO TRABALHA_EM VALUES('98765432168', '30', '20.0');
INSERT INTO TRABALHA_EM VALUES('98765432168', '20', '15.0');
INSERT INTO TRABALHA_EM VALUES('88866555576', '20', NULL);
~~~
Consultas pedidas pelo exercício:
~~~sql
SELECT * FROM FUNCIONARIO
SELECT * FROM DEPARTAMENTO
SELECT * FROM LOCALIZACAO_DEP
SELECT * FROM PROJETO
SELECT * FROM TRABALHA_EM
SELECT * FROM DEPENDENTE
~~~

### Exercício 2

Seja o arquivo [agricultura.relax](../data/agricultura.relax), para a criação de um _dataset_ na ferramente _RelaX_, referente ao **BD Agricultura**.

Baseado no conteúdo do arquivo [agricultura.relax](../data/agricultura.relax):
~~~relax
group:agricultura

AGRICULTOR = {
CodA:number,NomeA:string CidadeA:string
1001,'Ana Maria Machado','Mogi das Cruzes'
1002,'José de Alencar','Mogi das Cruzes'
1003,'Manuel Bandeira','Mogi das Cruzes'
1004,'Machado de Assis','Atibaia'
1005,'Oswald de Andrade','Atibaia'
1006,'Lima Barreto','São Paulo'
1007,'Cecília Meireles','São Paulo'
1008,'Castro Alves','Campinas'
1009,'Monteiro Lobato','Taubaté'
}

PRODUTO = {
CodP:number, NomeP:string,PrecoQuilo:number
2001,'tomate',4.98
2002,'batata',0.98
2003,'cebola',2.98
2004,'cenoura',1.98
2005,'chuchu',2.49
2006,'mandioca',1.98
2007,'couve-flor',3.9
2008,'quiabo',8.98
2009,'pimentão',3.98
2010,'repolho',1.49
2011,'beterraba',2.49
2012,'alface',2.98
2013,'tomate cereja',5.98
}

RESTAURANTE = {
CodR:number,NomeR:string, CidadeR:string
3001,'Brasileirinho','São Paulo'
3002,'Sabor de Minas','Santo André'
3003,'Bom Gosto','Atibaia'
3004,'Panela de Ouro','São Paulo'
3005,'RU-USP','São Paulo'
3006,'Bom de Garfo','Osasco'
3007,'Sabores do Interior','Osasco'
3008,'Brasil a Gosto','São Caetano'
3009,'Prato-Cheio','Diadema'
3010,'A Todo Sabor','Mogi das Cruzes'
}
ENTREGA = {
CodA:number, CodP:number, CodR:number, DataEntrega:date, QtdeQuilos:number
1001,2005,3010,2014-10-01,15
1004,2002,3005,2014-10-01,40
1006,2011,3002,2014-10-03,37
1003,2003,3009,2014-10-03,21
1004,2008,3008,2014-10-04,12
1007,2008,3003,2014-10-04,45
1005,2002,3002,2014-10-04,60
1005,2001,3002,2014-10-05,36
1002,2002,3010,2014-10-05,28
1002,2007,3006,2014-10-06,15
1004,2010,3006,2014-10-08,52
1007,2003,3004,2014-10-10,45
1002,2005,3002,2014-10-10,38
1002,2003,3004,2014-10-10,35
1004,2005,3002,2014-10-10,25
1005,2011,3002,2014-10-14,30
1001,2003,3002,2014-10-17,57
1003,2002,3010,2014-10-18,10
1003,2012,3006,2014-10-18,36
1007,2007,3006,2014-10-19,42
1006,2003,3001,2014-10-22,28
1002,2003,3003,2014-10-22,45
1001,2003,3005,2014-10-22,37
1007,2003,3006,2014-10-22,51
1003,2003,3007,2014-10-22,24
1003,2003,3008,2014-10-22,36
1004,2003,3010,2014-10-22,40
}
~~~

1. Escreva em DDL a definição do **BD Agricultura**:
   - Incluir as restrições de integridade de chave, integridade de domínio, integridade de entidade e integridade referencial.
   - Os comandos DDL devem ser executáveis no SGBD PostgreSQL.
~~~sql
-- Crie as tabelas necessárias
CREATE TABLE AGRICULTOR (
	CodA INT NOT NULL,
	NomeA VARCHAR(255),
  CidadeA VARCHAR(255),
  PRIMARY KEY (codA)
);

CREATE TABLE PRODUTO (
  CodP INT NOT NULL,
  NomeP VARCHAR(255),
  PrecoQuilo numeric(20,1),
  PRIMARY KEY (codP)
);

CREATE TABLE RESTAURANTE (
  CodR INT NOT NULL,
  NomeR VARCHAR(255),
  CidadeR VARCHAR(255),
  PRIMARY KEY(CodR)
);

CREATE TABLE ENTREGA(
  CodA INT NOT NULL,
  CodP INT NOT NULL,
  CodR INT NOT NULL,
  DataEntrega DATE NOT NULL,
  QtdeQuilos numeric(20,2),
  PRIMARY KEY (CodA, CodP, CodR, DataEntrega),
  FOREIGN KEY (CodA)
    REFERENCES AGRICULTOR(CodA),
  FOREIGN KEY (CodP)
    REFERENCES PRODUTO(CodP),
  FOREIGN KEY (CodR)
    REFERENCES RESTAURANTE(CodR)
);

-- Insira os dados nas tabelas
INSERT INTO AGRICULTOR VALUES('1001','Ana Maria Machado','Mogi das Cruzes');
INSERT INTO AGRICULTOR VALUES('1002','José de Alencar','Mogi das Cruzes');
INSERT INTO AGRICULTOR VALUES('1003','Manuel Bandeira','Mogi das Cruzes');
INSERT INTO AGRICULTOR VALUES('1004','Machado de Assis','Atibaia');
INSERT INTO AGRICULTOR VALUES('1005','Oswald de Andrade','Atibaia');
INSERT INTO AGRICULTOR VALUES('1006','Lima Barreto','São Paulo');
INSERT INTO AGRICULTOR VALUES('1007','Cecília Meireles','São Paulo');
INSERT INTO AGRICULTOR VALUES('1008','Castro Alves','Campinas');
INSERT INTO AGRICULTOR VALUES('1009','Monteiro Lobato','Taubaté');

INSERT INTO PRODUTO VALUES('2001','tomate','4.98');
INSERT INTO PRODUTO VALUES('2002','batata','0.98');
INSERT INTO PRODUTO VALUES('2003','cebola','2.98');
INSERT INTO PRODUTO VALUES('2004','cenoura','1.98');
INSERT INTO PRODUTO VALUES('2005','chuchu','2.49');
INSERT INTO PRODUTO VALUES('2006','mandioca','1.98');
INSERT INTO PRODUTO VALUES('2007','couve-flor'',3.9');
INSERT INTO PRODUTO VALUES('2008','quiabo','8.98');
INSERT INTO PRODUTO VALUES('2009','pimentão','3.98');
INSERT INTO PRODUTO VALUES('2010','repolho','1.49');
INSERT INTO PRODUTO VALUES('2011','beterraba','2.49');
INSERT INTO PRODUTO VALUES('2012','alface','2.98');
INSERT INTO PRODUTO VALUES('2013','tomate cereja','5.98');

INSERT INTO RESTAURANTE VALUES('3001','Brasileirinho','São Paulo');
INSERT INTO RESTAURANTE VALUES('3002','Sabor de Minas','Santo André');
INSERT INTO RESTAURANTE VALUES('3003','Bom Gosto','Atibaia');
INSERT INTO RESTAURANTE VALUES('3004','Panela de Ouro','São Paulo');
INSERT INTO RESTAURANTE VALUES('3005','RU-USP','São Paulo');
INSERT INTO RESTAURANTE VALUES('3006','Bom de Garfo','Osasco');
INSERT INTO RESTAURANTE VALUES('3007','Sabores do Interior','Osasco');
INSERT INTO RESTAURANTE VALUES('3008','Brasil a Gosto','São Caetano');
INSERT INTO RESTAURANTE VALUES('3009','Prato-Cheio','Diadema');
INSERT INTO RESTAURANTE VALUES('3010','A Todo Sabor','Mogi das Cruzes');

INSERT INTO ENTREGA VALUES('1001','2005','3010','2014-10-01','15');
INSERT INTO ENTREGA VALUES('1004','2002','3005','2014-10-01','40');
INSERT INTO ENTREGA VALUES('1006','2011','3002','2014-10-03','37');
INSERT INTO ENTREGA VALUES('1003','2003','3009','2014-10-03','21');
INSERT INTO ENTREGA VALUES('1004','2008','3008','2014-10-04','12');
INSERT INTO ENTREGA VALUES('1007','2008','3003','2014-10-04','45');
INSERT INTO ENTREGA VALUES('1005','2002','3002','2014-10-04','60');
INSERT INTO ENTREGA VALUES('1005','2001','3002','2014-10-05','36');
INSERT INTO ENTREGA VALUES('1002','2002','3010','2014-10-05','28');
INSERT INTO ENTREGA VALUES('1002','2007','3006','2014-10-06','15');
INSERT INTO ENTREGA VALUES('1004','2010','3006','2014-10-08','52');
INSERT INTO ENTREGA VALUES('1007','2003','3004','2014-10-10','45');
INSERT INTO ENTREGA VALUES('1002','2005','3002','2014-10-10','38');
INSERT INTO ENTREGA VALUES('1002','2003','3004','2014-10-10','35');
INSERT INTO ENTREGA VALUES('1004','2005','3002','2014-10-10','25');
INSERT INTO ENTREGA VALUES('1005','2011','3002','2014-10-14','30');
INSERT INTO ENTREGA VALUES('1001','2003','3002','2014-10-17','57');
INSERT INTO ENTREGA VALUES('1003','2002','3010','2014-10-18','10');
INSERT INTO ENTREGA VALUES('1003','2012','3006','2014-10-18','36');
INSERT INTO ENTREGA VALUES('1007','2007','3006','2014-10-19','42');
INSERT INTO ENTREGA VALUES('1006','2003','3001','2014-10-22','28');
INSERT INTO ENTREGA VALUES('1002','2003','3003','2014-10-22','45');
INSERT INTO ENTREGA VALUES('1001','2003','3005','2014-10-22','37');
INSERT INTO ENTREGA VALUES('1007','2003','3006','2014-10-22','51');
INSERT INTO ENTREGA VALUES('1003','2003','3007','2014-10-22','24');
INSERT INTO ENTREGA VALUES('1003','2003','3008','2014-10-22','36');
INSERT INTO ENTREGA VALUES('1004','2003','3010','2014-10-22','40')
~~~

2. Escreva em álgebra relacional a consulta "que produtos estão entre os três preços por quilo mais elevados":
   - Não utilize funções agregadas, agrupamento, e consultas aninhadas.

~~~relax
P1 = ρ P1 PRODUTO
P2 = ρ P2 PRODUTO

M1 = πP2.CodP,P2.PrecoQuilo(P1 ⨝P1.PrecoQuilo>P2.PrecoQuilo P2)
M2 = πP1.CodP,P1.PrecoQuilo(M1 ⨝P2.PrecoQuilo>P1.PrecoQuilo P1)
M3 = πP2.CodP,P2.PrecoQuilo(M2 ⨝P1.PrecoQuilo>P2.PrecoQuilo P2)

RESULT = πP1.PrecoQuilo P1 - πP2.PrecoQuilo M3
RESULT
~~~

### Exercício 3

Seja o arquivo [photodb.relax](../data/photodb.relax), para a criação de um _dataset_ na ferramente _RelaX_, referente ao **BD Fotografia**.

Baseado no conteúdo do arquivo [photodb.relax](../data/photodb.relax):
~~~relax
group: PhotoDB

photos = {
id:number	location:string	unixTime:number	photographerId:number	cameraId:number	
1		"(-23.94596215572477,43.504680443228594)"		1332835618		3		6	
2		"(66.7975402123468,18.422720384316783)"		583933011		3		1	
3		"(-79.03561854727664,9.729271460409938)"		1004549292		6		3	
4		"(-89.22950553798373,60.13292921238415)"		854725699		3		2	
5		"(-22.90727163973054,4.716609960081204)"		1288406508		7		3	
6		"(32.85775711947046,18.568374418823325)"		1342868533		6		1	
7		"(-53.91880965292799,57.088556267443366)"		1252562145		3		3	
8		"(25.68393169410379,124.03998281071343)"		1206635367		7		1	
9		"(-41.410939974515045,89.79807534977212)"		6721653		7		2	
10		"(74.27287432931843,72.37869263017589)"		28680558		3		2	
11		"(-30.90442501074562,41.360204068386125)"		1440247675		3		4	
12		"(22.925115864182217,82.33506742697107)"		151489401		6		4	
13		"(-4.257394701370018,51.91570560133923)"		552995622		7		5	
14		"(-78.47189671740747,55.3041620615267)"		905855700		3		3	
15		"(46.89010977052743,100.80310189591636)"		1292669068		3		5	
16		"(54.74178334541912,159.84194328609433)"		1301878417		6		6	
17		"(8.847034706311689,133.64870224086678)"		1122338018		6		1	
18		"(-87.08512744092576,147.54977679259775)"		566761396		6		6	
19		"(-52.275329123409705,145.14217635122728)"		1545645504		6		6	
20		"(49.05696809311661,28.165799294152208)"		326012179		6		4	
21		"(68.60774567022901,61.004853960909074)"		238023149		6		5	
22		"(-33.90969415940154,93.10572300849267)"		1086699594		7		2	
23		"(-20.975426922143555,54.91529415581587)"		621152026		7		3	
24		"(42.308311137492666,0.5458763514647291)"		222853090		3		6	
25		"(87.0028726584149,123.20190238949671)"		1294576005		6		6	
26		"(40.33430357277291,27.73230042292334)"		1470690581		6		1	
27		"(28.645611491300443,163.73644005304232)"		108720956		6		5	
28		"(-88.76561985339897,138.30403009673404)"		270825652		7		4	
29		"(49.03244470173607,132.7806858628167)"		160777215		3		3	
30		"(-2.8736549450926105,79.48921463357621)"		666896925		3		3	
31		"(6.094181900863944,67.39783405973114)"		668540045		6		1	
32		"(-65.21087212596673,172.27351645165078)"		437930315		3		1	
33		"(-24.095578617410126,26.194560147226163)"		328055064		3		2	
34		"(-41.37393953062184,166.46461011894917)"		1318781660		6		5	
35		"(64.59343233215117,24.392840849367758)"		1368937632		3		6	
36		"(-41.10683966436007,98.10692435066068)"		46050404		3		2	
37		"(59.72205451667932,61.14253047561585)"		921471005		3		6	
38		"(-69.95594392073146,98.31593342900744)"		89527740		6		4	
39		"(-49.997807005685,54.95422750730368)"		588631643		6		3	
40		"(-82.34410866391352,10.909491852625672)"		1282745873		6		4	
41		"(46.37983279738438,91.74894457417676)"		1489526836		7		5	
42		"(21.555163127761062,14.261383795784834)"		649787155		6		6	
43		"(-18.976861341689244,96.37356532145945)"		794494857		7		4	
44		"(52.247802099907716,107.45256346167027)"		177465810		7		3	
45		"(-37.70802880125583,23.5269446381634)"		751896593		6		6	
46		"(32.52075929656452,38.75057485371395)"		1188127995		6		1	
47		"(73.34618460007351,170.01378676834636)"		273470759		7		4	
48		"(59.058772847681325,88.56277905713246)"		582297490		3		2	
49		"(1.8877994518588679,36.63362219713677)"		1551324983		7		2	
50		"(-84.70675207080137,60.7701132503618)"		459145063		6		2	
51		"(-22.036969511700136,75.68298909362099)"		48753209		7		1	
52		"(-60.36861693228855,91.36531972560137)"		452607000		3		5	
53		"(78.15850661219267,87.7987850671524)"		1143554322		6		1	
54		"(62.27979173084469,52.577623833973895)"		464738494		7		4	
55		"(-66.13830684841778,120.21009344942033)"		1250441551		3		4	
56		"(-87.48032633192693,87.77170915547947)"		804771926		7		4	
57		"(46.983310607132694,61.830699214736555)"		202655988		6		3	
58		"(53.271699499568456,61.660796641426955)"		477391747		7		5	
59		"(-38.771025744641996,4.519776100057129)"		124850801		6		4	
60		"(-81.09352522323495,110.67295312546989)"		231223745		7		4	
61		"(70.7726671399763,24.6240780101833)"		1316906734		3		3	
62		"(-40.137458881822674,68.24883477241218)"		1345202260		7		5	
63		"(-80.77765035199894,22.19289124905086)"		668151968		6		2	
64		"(19.71519282013709,143.09849824899842)"		570816210		7		1	
65		"(42.016167280447746,66.56986990888204)"		1144572868		7		5	
66		"(61.732217134769314,72.120690731233)"		1424676626		6		3	
67		"(-2.525885736567588,120.44177856039416)"		768340381		6		4	
68		"(-74.25803659675263,101.37142724277419)"		418749132		6		6	
69		"(4.194830917265335,87.67961865767386)"		1178381323		6		6	
70		"(4.378268807967245,16.054777400033085)"		657273620		7		5	
71		"(-29.902199942401985,30.51993167527233)"		1373302497		7		4	
72		"(-87.78554793892269,24.69227061206357)"		1182358085		6		4	
73		"(85.25215135462997,150.03454516713268)"		914819742		3		6	
74		"(30.981206679654235,142.6141224577338)"		856713359		7		4	
75		"(-89.63961092005242,77.47615317552315)"		1172268929		6		3	
76		"(85.5183879133547,34.9743583599769)"		1058537924		6		6	
77		"(-77.28883778484945,91.3193172938426)"		191680643		7		5	
78		"(67.88018195069066,148.80614052475337)"		51378470		3		4	
79		"(-38.68238785975663,79.10891886887238)"		985209073		7		4	
80		"(83.486959220486,176.4823379130941)"		295262015		3		1	
81		"(-39.55760268423741,175.00915654826676)"		492015002		3		2	
82		"(-14.051443545876197,77.2486677821557)"		1045309233		7		6	
83		"(52.70289319521177,119.58684351784358)"		547287240		6		6	
84		"(-43.996058966645926,152.10565059703714)"		1195108740		7		6	
85		"(-68.47731789683266,4.918177832261181)"		1228235034		7		5	
86		"(16.697813336231434,61.138670354342246)"		1248138184		3		3	
87		"(-2.3406904059287825,93.99999473626626)"		139942509		3		5	
88		"(-39.338173551688335,138.62013140619962)"		133693687		3		6	
89		"(52.71747702804228.105010402050802)"		459598970		3		3	
90		"(-50.49277438355037,67.88536218742547)"		1079403773		3		2	
91		"(-10.703511645592911,115.01103896620755)"		859136900		6		2	
92		"(-28.96675584139127,85.80739530485162)"		1241233740		7		6	
93		"(-21.534946833675832,7.274330863850009)"		1170703225		7		3	
94		"(24.07605737438162,158.55734249798553)"		105580334		6		6	
95		"(54.521840499822474,91.85529589366536)"		1389931810		7		2	
96		"(-10.459235653345488,24.73164425229476)"		531514576		6		2	
97		"(-57.20767842561744,18.874446239738806)"		1033600231		7		2	
98		"(-38.096908498576624,46.05696979089274)"		1438601952		3		6	
99		"(-87.43171606164563,51.76053937626387)"		413739727		7		1	
100		"(-49.71284155339952,170.9597244508147)"		592075731		6		6	
}

salespersons = {
employeeId:number	areaOfExpertise:string	
4		"Advertising"	
5		"Portrait"	
}

seniors = {
employeeId:number	numGreyHairs:number	bonus:number	
1		45		34000	
2		457		40000	
}

cameras = {
id:number	brand:string	model:string	
1		"Canon"		"6d"	
2		"Canon"		"650d"	
3		"Nikon"		"D3200"	
4		"Nikon"		"D700"	
5		"Leica"		"Q2"	
6		"Leica"		"D-Lux7"	
}

employees = {
personId:number	salary:number	experience:number	
1		45000		3	
2		37000		3	
3		50000		2	
4		60000		3	
5		55000		2	
6		15000		1	
7		50000		2	
}

persons = {
id:number	lastname:string	firstname:string	birthday:date	
1		"Schweitzer"		"Albert"		1973-03-01	
2		"Carlos"		"Rob"		1975-07-12	
3		"Mueller"		"Peter"		1963-10-09	
4		"Zappa"		"Frank"		1955-11-04	
5		"Taylor"		"Tim"		1980-03-04	
6		"Wurst"		"Hans"		1974-02-01	
7		"Miese"		"Peter"		1983-05-06	
8		"Koenig"		"Dieter"		1967-06-11	
}

photographers = {
employeeId:number	
3	
7	
6	
}
~~~

1. Escreva em DDL a definição do **BD Fotografia**:
   - Incluir as restrições de integridade de chave, integridade de domínio, integridade de entidade e integridade referencial.
   - Os comandos DDL devem ser executáveis no SGBD PostgreSQL.
~~~sql
-- Crie as tabelas necessárias
CREATE TABLE PHOTOS (
	Id INT NOT NULL,
	Location VARCHAR(255),
  UnixTime INT NOT NULL,
  PhotographerId INT NOT NULL,
  CameraId INT NOT NULL,
  
  PRIMARY KEY (Id)
);

CREATE TABLE SALESPERSONS (
  EmployeeId INT NOT NULL,	
  AreaOfExpertise VARCHAR(255),

  PRIMARY KEY (EmployeeId)	
);

CREATE TABLE SENIORS (
  EmployeeId INT NOT NULL,
  NumGreyHairs INT NOT NULL,
  Bonus INT NOT NULL,

  PRIMARY KEY (EmployeeId)
);

CREATE TABLE CAMERAS (
  Id INT NOT NULL,
  Brand VARCHAR(255), 
  Model VARCHAR(255),

  PRIMARY KEY (Id)
);

CREATE TABLE EMPLOYEES(
  PersonId INT NOT NULL,
  Salary INT NOT NULL,
  Experience INT NOT NULL,

  PRIMARY KEY (PersonId)	
);


CREATE TABLE PERSONS(
  Id INT NOT NULL,	
  Lastname VARCHAR(255),
  Firstname VARCHAR(255),
  Birthday DATE NOT NULL,

  PRIMARY KEY (Id)
);
CREATE TABLE PHOTOGRAPHERS(
  EmployeeId INT NOT NULL,

  PRIMARY KEY (EmployeeId)
);

-- Insira os dados nas tabelas
INSERT INTO PHOTOS VALUES('1','(-23.94596215572477,43.504680443228594)','1332835618','3','6');
INSERT INTO PHOTOS VALUES('2','(66.7975402123468,18.422720384316783)','583933011','3','1');
INSERT INTO PHOTOS VALUES('3','(-79.03561854727664,9.729271460409938)','1004549292','6','3');
INSERT INTO PHOTOS VALUES('4','(-89.22950553798373,60.13292921238415)','854725699','3','2');
INSERT INTO PHOTOS VALUES('5','(-22.90727163973054,4.716609960081204)','1288406508','7','3');
INSERT INTO PHOTOS VALUES('6','(32.85775711947046,18.568374418823325)','1342868533','6','1');
INSERT INTO PHOTOS VALUES('7','(-53.91880965292799,57.088556267443366)','1252562145','3','3');
INSERT INTO PHOTOS VALUES('8','(25.68393169410379,124.03998281071343)','1206635367','7','1');
INSERT INTO PHOTOS VALUES('9','(-41.410939974515045,89.79807534977212)','6721653','7','2');
INSERT INTO PHOTOS VALUES('10','(74.27287432931843,72.37869263017589)','28680558','3','2');
INSERT INTO PHOTOS VALUES('11','(-30.90442501074562,41.360204068386125)','1440247675','3','4');
INSERT INTO PHOTOS VALUES('12','(22.925115864182217,82.33506742697107)','151489401','6','4');
INSERT INTO PHOTOS VALUES('13','(-4.257394701370018,51.91570560133923)','552995622','7','5');
INSERT INTO PHOTOS VALUES('14','(-78.47189671740747,55.3041620615267)','905855700','3','3');
INSERT INTO PHOTOS VALUES('15','(46.89010977052743,100.80310189591636)','1292669068','3','5');
INSERT INTO PHOTOS VALUES('16','(54.74178334541912,159.84194328609433)','1301878417','6','6');
INSERT INTO PHOTOS VALUES('17','(8.847034706311689,133.64870224086678)','1122338018','6','1');
INSERT INTO PHOTOS VALUES('18','(-87.08512744092576,147.54977679259775)','566761396','6','6');
INSERT INTO PHOTOS VALUES('19','(-52.275329123409705,145.14217635122728)','1545645504','6','6');
INSERT INTO PHOTOS VALUES('20','(49.05696809311661,28.165799294152208)','326012179','6','4');
INSERT INTO PHOTOS VALUES('21','(68.60774567022901,61.004853960909074)','238023149','6','5');
INSERT INTO PHOTOS VALUES('22','(-33.90969415940154,93.10572300849267)','1086699594','7','2');
INSERT INTO PHOTOS VALUES('23','(-20.975426922143555,54.91529415581587)','621152026','7','3');
INSERT INTO PHOTOS VALUES('24','(42.308311137492666,0.5458763514647291)','222853090','3','6');
INSERT INTO PHOTOS VALUES('25','(87.0028726584149,123.20190238949671)','1294576005','6','6');
INSERT INTO PHOTOS VALUES('26','(40.33430357277291,27.73230042292334)','1470690581','6','1');
INSERT INTO PHOTOS VALUES('27','(28.645611491300443,163.73644005304232)','108720956','6','5');
INSERT INTO PHOTOS VALUES('28','(-88.76561985339897,138.30403009673404)','270825652','7','4');
INSERT INTO PHOTOS VALUES('29','(49.03244470173607,132.7806858628167)','160777215','3','3');
INSERT INTO PHOTOS VALUES('30','(-2.8736549450926105,79.48921463357621)','666896925','3','3');
INSERT INTO PHOTOS VALUES('31','(6.094181900863944,67.39783405973114)','668540045','6','1');
INSERT INTO PHOTOS VALUES('32','(-65.21087212596673,172.27351645165078)','437930315','3','1');
INSERT INTO PHOTOS VALUES('33','(-24.095578617410126,26.194560147226163)','328055064','3','2');
INSERT INTO PHOTOS VALUES('34','(-41.37393953062184,166.46461011894917)','1318781660','6','5');
INSERT INTO PHOTOS VALUES('35','(64.59343233215117,24.392840849367758)','1368937632','3','6');
INSERT INTO PHOTOS VALUES('36','(-41.10683966436007,98.10692435066068)','46050404','3','2');
INSERT INTO PHOTOS VALUES('37','(59.72205451667932,61.14253047561585)','921471005','3','6');
INSERT INTO PHOTOS VALUES('38','(-69.95594392073146,98.31593342900744)','89527740','6','4');
INSERT INTO PHOTOS VALUES('39','(-49.997807005685,54.95422750730368)','588631643','6','3');
INSERT INTO PHOTOS VALUES('40','(-82.34410866391352,10.909491852625672)','1282745873','6','4');
INSERT INTO PHOTOS VALUES('41','(46.37983279738438,91.74894457417676)','1489526836','7','5');
INSERT INTO PHOTOS VALUES('42','(21.555163127761062,14.261383795784834)','649787155','6','6');
INSERT INTO PHOTOS VALUES('43','(-18.976861341689244,96.37356532145945)','794494857','7','4');
INSERT INTO PHOTOS VALUES('44','(52.247802099907716,107.45256346167027)','177465810','7','3');
INSERT INTO PHOTOS VALUES('45','(-37.70802880125583,23.5269446381634)','751896593','6','6');
INSERT INTO PHOTOS VALUES('46','(32.52075929656452,38.75057485371395)','1188127995','6','1');
INSERT INTO PHOTOS VALUES('47','(73.34618460007351,170.01378676834636)','273470759','7','4');
INSERT INTO PHOTOS VALUES('48','(59.058772847681325,88.56277905713246)','582297490','3','2');
INSERT INTO PHOTOS VALUES('49','(1.8877994518588679,36.63362219713677)','1551324983','7','2');
INSERT INTO PHOTOS VALUES('50','(-84.70675207080137,60.7701132503618)','459145063','6','2');
INSERT INTO PHOTOS VALUES('51','(-22.036969511700136,75.68298909362099)','48753209','7','1');
INSERT INTO PHOTOS VALUES('52','(-60.36861693228855,91.36531972560137)','452607000','3','5');
INSERT INTO PHOTOS VALUES('53','(78.15850661219267,87.7987850671524)','1143554322','6','1');
INSERT INTO PHOTOS VALUES('54','(62.27979173084469,52.577623833973895)','464738494','7','4');
INSERT INTO PHOTOS VALUES('55','(-66.13830684841778,120.21009344942033)','1250441551','3','4');
INSERT INTO PHOTOS VALUES('56','(-87.48032633192693,87.77170915547947)','804771926','7','4');
INSERT INTO PHOTOS VALUES('57','(46.983310607132694,61.830699214736555)','202655988','6','3');
INSERT INTO PHOTOS VALUES('58','(53.271699499568456,61.660796641426955)','477391747','7','5');
INSERT INTO PHOTOS VALUES('59','(-38.771025744641996,4.519776100057129)','124850801','6','4');
INSERT INTO PHOTOS VALUES('60','(-81.09352522323495,110.67295312546989)','231223745','7','4');
INSERT INTO PHOTOS VALUES('61','(70.7726671399763,24.6240780101833)','1316906734','3','3');
INSERT INTO PHOTOS VALUES('62','(-40.137458881822674,68.24883477241218)','1345202260','7','5');
INSERT INTO PHOTOS VALUES('63','(-80.77765035199894,22.19289124905086)','668151968','6','2');
INSERT INTO PHOTOS VALUES('64','(19.71519282013709,143.09849824899842)','570816210','7','1');
INSERT INTO PHOTOS VALUES('65','(42.016167280447746,66.56986990888204)','1144572868','7','5');
INSERT INTO PHOTOS VALUES('66','(61.732217134769314,72.120690731233)','1424676626','6','3');
INSERT INTO PHOTOS VALUES('67','(-2.525885736567588,120.44177856039416)','768340381','6','4');
INSERT INTO PHOTOS VALUES('68','(-74.25803659675263,101.37142724277419)','418749132','6','6');
INSERT INTO PHOTOS VALUES('69','(4.194830917265335,87.67961865767386)','1178381323','6','6');
INSERT INTO PHOTOS VALUES('70','(4.378268807967245,16.054777400033085)','657273620','7','5');
INSERT INTO PHOTOS VALUES('71','(-29.902199942401985,30.51993167527233)','1373302497','7','4');
INSERT INTO PHOTOS VALUES('72','(-87.78554793892269,24.69227061206357)','1182358085','6','4');
INSERT INTO PHOTOS VALUES('73','(85.25215135462997,150.03454516713268)','914819742','3','6');
INSERT INTO PHOTOS VALUES('74','(30.981206679654235,142.6141224577338)','856713359','7','4');
INSERT INTO PHOTOS VALUES('75','(-89.63961092005242,77.47615317552315)','1172268929','6','3');
INSERT INTO PHOTOS VALUES('76','(85.5183879133547,34.9743583599769)','1058537924','6','6');
INSERT INTO PHOTOS VALUES('77','(-77.28883778484945,91.3193172938426)','191680643','7','5');
INSERT INTO PHOTOS VALUES('78','(67.88018195069066,148.80614052475337)','51378470','3','4');
INSERT INTO PHOTOS VALUES('79','(-38.68238785975663,79.10891886887238)','985209073','7','4');
INSERT INTO PHOTOS VALUES('80','(83.486959220486,176.4823379130941)','295262015','3','1');
INSERT INTO PHOTOS VALUES('81','(-39.55760268423741,175.00915654826676)','492015002','3','2');
INSERT INTO PHOTOS VALUES('82','(-14.051443545876197,77.2486677821557)','1045309233','7','6');
INSERT INTO PHOTOS VALUES('83','(52.70289319521177,119.58684351784358)','547287240','6','6');
INSERT INTO PHOTOS VALUES('84','(-43.996058966645926,152.10565059703714)','1195108740','7','6');
INSERT INTO PHOTOS VALUES('85','(-68.47731789683266,4.918177832261181)','1228235034','7','5');
INSERT INTO PHOTOS VALUES('86','(16.697813336231434,61.138670354342246)','1248138184','3','3');
INSERT INTO PHOTOS VALUES('87','(-2.3406904059287825,93.99999473626626)','139942509','3','5');
INSERT INTO PHOTOS VALUES('88','(-39.338173551688335,138.62013140619962)','133693687','3','6');
INSERT INTO PHOTOS VALUES('89','(52.71747702804228.105010402050802)','459598970','3','3');
INSERT INTO PHOTOS VALUES('90','(-50.49277438355037,67.88536218742547)','1079403773','3','2');
INSERT INTO PHOTOS VALUES('91','(-10.703511645592911,115.01103896620755)','859136900','6','2');
INSERT INTO PHOTOS VALUES('92','(-28.96675584139127,85.80739530485162)','1241233740','7','6');
INSERT INTO PHOTOS VALUES('93','(-21.534946833675832,7.274330863850009)','1170703225','7','3');
INSERT INTO PHOTOS VALUES('94','(24.07605737438162,158.55734249798553)','105580334','6','6');
INSERT INTO PHOTOS VALUES('95','(54.521840499822474,91.85529589366536)','1389931810','7','2');
INSERT INTO PHOTOS VALUES('96','(-10.459235653345488,24.73164425229476)','531514576','6','2');
INSERT INTO PHOTOS VALUES('97','(-57.20767842561744,18.874446239738806)','1033600231','7','2');
INSERT INTO PHOTOS VALUES('98','(-38.096908498576624,46.05696979089274)','1438601952','3','6');
INSERT INTO PHOTOS VALUES('99','(-87.43171606164563,51.76053937626387)','413739727','7','1');
INSERT INTO PHOTOS VALUES('100','(-49.71284155339952,170.9597244508147)','592075731','6','6');

INSERT INTO SALESPERSONS VALUES('4','Advertising');
INSERT INTO SALESPERSONS VALUES('5','Portrait');

INSERT INTO SENIORS VALUES('1','45','34000');
INSERT INTO SENIORS VALUES('2','457','40000');	

INSERT INTO EMPLOYEES VALUES('1','45000','3');
INSERT INTO EMPLOYEES VALUES('2','37000','3');
INSERT INTO EMPLOYEES VALUES('3','50000','2');
INSERT INTO EMPLOYEES VALUES('4','60000','3');
INSERT INTO EMPLOYEES VALUES('5','55000','2');
INSERT INTO EMPLOYEES VALUES('6','15000','1');
INSERT INTO EMPLOYEES VALUES('7','50000','2');

INSERT INTO PERSONS VALUES('1','"Schweitzer"','"Albert"','1973-03-01');
INSERT INTO PERSONS VALUES('2','"Carlos"','"Rob"','1975-07-12');
INSERT INTO PERSONS VALUES('3','"Mueller"','"Peter"','1963-10-09');
INSERT INTO PERSONS VALUES('4','"Zappa"','"Frank"','1955-11-04');
INSERT INTO PERSONS VALUES('5','"Taylor"','"Tim"','1980-03-04');
INSERT INTO PERSONS VALUES('6','"Wurst"','"Hans"','1974-02-01');
INSERT INTO PERSONS VALUES('7','"Miese"','"Peter"','1983-05-06');
INSERT INTO PERSONS VALUES('8','"Koenig"','"Dieter"','1967-06-11');

INSERT INTO  PHOTOGRAPHERS VALUES('3');	
INSERT INTO  PHOTOGRAPHERS VALUES('7');	
INSERT INTO  PHOTOGRAPHERS VALUES('6');	
~~~
